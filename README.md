# Advanced vector
Advanced vector — это аналог стандартного контейнера vector, со сходной структурой и функционалом. В основе — массив в динамической памяти. Сам контейнер хранит указатель на область памяти, в которой непрерывным блоком размещаются элементы динамического массива, вместимость вектора и его размер.
# Функционал
## Создание объекта
- Конструктор по умолчанию. Инициализирует вектор нулевого размера и вместимости. Не выбрасывает исключений. Алгоритмическая сложность: O(1).
- Конструктор, который создаёт вектор заданного размера. Вместимость созданного вектора равна его размеру, а элементы проинициализированы значением по умолчанию для типа T. Устойчив к исключениям. Алгоритмическая сложность: O(размер вектора).
- Копирующий конструктор. Создаёт копию элементов исходного вектора. Имеет вместимость, равную размеру исходного вектора, то есть выделяет память без запаса. Устойчив к исключениям. Алгоритмическая сложность: O(размер исходного вектора).
- Перемещающий конструктор. Выполняется за O(1) и не выбрасывает исключений.
## Доступ к элементам
Методы begin() и end() и их константные версии cbegin() и cend() возвращают итераторы на первый элемент вектора и на позицию за последним элементом вектора соответственно. Для доступа к произвольному элементу определен operator[]. Имеет две версии — константную и неконстантную. Не выбрасывает исключений. Для корректной работы оператора индекс элемента вектора не должен выходить за пределы массива.
## Методы
- Вспомогательный метод Size для получения количества элементов в векторе. Не выбрасывает исключений.
- Вспомогательный метод Capacity для получения вместимости вектора. Не выбрасывает исключений.
- Вспомогательные статические методы Allocate и Deallocate, чтобы выделить и освободить сырую память.
- Метод Reserve задает ёмкость вектора. Этот метод повышает эффективность кода в случае, когда пользователь заранее знает хотя бы приблизительное количество элементов в векторе. Reserve сразу выделяет нужное количество памяти. При добавлении новых элементов в вектор копирование будет происходить или значительно реже или совсем не будет.
- Оператор копирующего присваивания. Выполняется за O(N), где N — максимум из размеров векторов, участвующих в операции.
- Оператор перемещающего присваивания. Выполняется за O(1) и не выбрасывает исключений.
- Метод Swap, выполняющий обмен содержимого вектора с другим вектором. Операция имеет сложность O(1) и не выбрасывает исключений.
- Метод Resize изменяет количество элементов в векторе.
- Метод PushBack добавляет новое значение в конец вектора. При нехватке памяти Vector увеличивает вместимость в кратное число раз.
- Метод PopBack разрушает последний элемент вектора и уменьшает размер вектора на единицу.
- Метод EmplaceBack. Это более эффективный метод вставлять элементы в вектор. Предоставлет строгую гарантию безопасности исключений, когда выполняется любое из условий:
-- move-конструктор у типа T объявлен как noexcept;
-- Тип T имеет публичный конструктор копирования. Если у типа T нет конструктора копирования и move-конструктор может выбрасывать исключения, метод EmplaceBack предоставляет базовую гарантию безопасности исключений. Сложность - амортизированная константа.
- Метод Insert вставляет элемент в заданную позицию вектора. Подобно EmplaceBack и PushBack, метод Insert допускает вставку элемента вектора внутрь того же самого вектора.
- Метод Emplace действует по такому же алгоритму как метода Insert. Основное отличие от Insert в том, что Emplace для передачи своих параметров конструктору элемента использует perfect forwarding.
- Метод Erase удаляет элемент, на который указывает переданный итератор.
# Состав проекта
- vector.h – файл шаблонного класса Vector;
- main.cpp – юнит-тесты корректности работы класса.
# Использование
- Поместите файл vector.h из репозитория в папку вашего проекта.
- Подключите заголовочный файл через директиву: #include "vector.h".
